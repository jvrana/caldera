<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>caldera.utils.dict_join &#8212; caldera 0.1.0 documentation</title>
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/style.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="caldera.utils.reindex_tensor" href="caldera.utils.reindex_tensor.html" />
    <link rel="prev" title="caldera.utils" href="../caldera.utils.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js "></script>

  </head><body>



  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          Caldera</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../getting_started.html">Getting Started</a></li>
                <li><a href="../../examples/examples.html">Examples</a></li>
                <li><a href="../../api.html">API</a></li>
                <li><a href="http://www.github.com/jvrana/caldera">Github</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Caldera <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../getting_started.html#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../api.html">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../caldera.data.html">caldera.data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../caldera.data.html#data-caldera-data">Data (<code class="xref py py-mod docutils literal notranslate"><span class="pre">caldera.data</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../caldera.blocks.html">caldera.blocks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../caldera.blocks.html#blocks-caldera-blocks">Blocks (<code class="xref py py-mod docutils literal notranslate"><span class="pre">caldera.blocks</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../caldera.models.html">caldera.models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../caldera.models.html#data-caldera-models">Data (<code class="xref py py-mod docutils literal notranslate"><span class="pre">caldera.models</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../caldera.transforms.html">caldera.transforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../caldera.transforms.html#transforms-caldera-transform">Transforms (<code class="xref py py-mod docutils literal notranslate"><span class="pre">caldera.transform</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../caldera.utils.html">caldera.utils</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../caldera.utils.html#utils-caldera-utils">Utils (<code class="xref py py-mod docutils literal notranslate"><span class="pre">caldera.utils</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../caldera.exceptions.html">caldera.exceptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../caldera.exceptions.html#exceptions-caldera-exceptions">Exceptions (<code class="xref py py-mod docutils literal notranslate"><span class="pre">caldera.exceptions</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../caldera.defaults.html">caldera.defaults</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../caldera.defaults.html#defaults-caldera-defaults">Defaults (<code class="xref py py-mod docutils literal notranslate"><span class="pre">caldera.defaults</span></code>)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/examples.html">Examples</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">caldera.utils.dict_join</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <div class="section" id="caldera-utils-dict-join">
<h1>caldera.utils.dict_join<a class="headerlink" href="#caldera-utils-dict-join" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="caldera.utils.dict_join">
<code class="sig-prename descclassname">caldera.utils.</code><code class="sig-name descname">dict_join</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">out</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">join_fn</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">default_a</span><span class="o">=</span><span class="default_value">Ellipsis</span></em>, <em class="sig-param"><span class="n">default_b</span><span class="o">=</span><span class="default_value">Ellipsis</span></em>, <em class="sig-param"><span class="n">keys</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'union'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#caldera.utils.dict_join" title="Permalink to this definition">¶</a></dt>
<dd><p>Join two dictionaries. This function merges two dictionaries is various
ways. For example, a dictionary of <cite>Dict[str, List]</cite> can be merged such
that, if the two dictionaries share the same key, the lists are
concatenated. The join function can be applied to the union of all keys
(default) by (<cite>mode=”union”</cite>), the intersection of the dictionary
(<cite>mode=”intersection”), only the keys in the left dictionary
(`mode=”left”</cite>), or keys only in the right dictionary (<cite>mode=”right”</cite>).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">operator</span>
<span class="n">d1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="n">d2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">]</span>
<span class="n">d3</span> <span class="o">=</span> <span class="n">dict_join</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">join_fn</span><span class="o">=</span><span class="n">operator</span><span class="o">.</span><span class="n">add</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d3</span><span class="p">)</span>
<span class="c1"># {&#39;a&#39;: [1,2,3,1,2], &#39;b&#39;: [1,2], &#39;c&#39;: [10,20]}</span>
</pre></div>
</div>
<p>This can be done such that the first dictionary is updated instead of returning a new dictionary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="n">d2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">]</span>
<span class="n">dict_join</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">d2</span><span class="p">,</span> <span class="n">join_fn</span><span class="o">=</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d2</span><span class="p">)</span>
<span class="c1"># {&#39;a&#39;: [1,2,3,1,2], &#39;b&#39;: [1,2], &#39;c&#39;: [10,20]}</span>

<span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">dict_join</span><span class="p">,</span> <span class="n">join_fv</span><span class="o">=</span><span class="n">operator</span><span class="o">.</span><span class="n">add</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[~K, ~T]) – First dictionary</p></li>
<li><p><strong>b</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[~K, ~S]) – Second dictionary</p></li>
<li><p><strong>out</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>]) – The target dictionary. If None, creates a new dictionary.</p></li>
<li><p><strong>join_fn</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[~T, ~S], ~V]]) – Join function when both dictionaries share the same key. If not provided, will use the value
provided by the second dictionary.</p></li>
<li><p><strong>default_a</strong> (<em>~T</em>) – Default value to use in the case a key is missing from the first dictionary. If defined as
<cite>Ellipsis</cite> (or <cite>…</cite>), defaults will be ignored.</p></li>
<li><p><strong>default_b</strong> (<em>~S</em>) – Default value to use in the case a key is missing from the second dictionary. If defined as
<cite>Ellipsis</cite> (or <cite>…</cite>), defaults will be ignored.</p></li>
<li><p><strong>keys</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code>[~K]]) – If provided, explicitly join only on specified keys.</p></li>
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – If keys are None, mode specifies which keys to join. “union” (default), means join
takes the union of keys from both dictionaries. “intersection” means take intersection of keys
for both dictionaries. “left” means use only keys in the first dictionary. “right” means use only keys
from the second dictionary.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[~K, <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[~T, ~S, ~V]]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../../_sources/generated/generated/caldera.utils.dict_join.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2020, Justin Vrana &lt;justin.vrana@gmail.com&gt;.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>